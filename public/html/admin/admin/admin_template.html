<div class="modal-header">
    <button type="button" class="close" ng-click="p.cancel()">×</button>
    <h4 class="modal-title">管理员设置</h4>
</div>
<form name="p.form" class="form-horizontal" ng-submit="p.submit()" novalidate>
    <div class="modal-body">
        <div class="form-group">
            <div class="col-sm-12">
                <input type="text" name="account" ng-model="p.account" maxlength="32" class="form-control" ng-readonly="!!p.id" placeholder="请输入管理员账号" required>
            </div>
            <div class="error-box col-sm-12" ng-show="p.form.$submitted && p.form.account.$invalid || !!p.message">
                <span class="error" ng-show="p.form.account.$error.required">请输入管理员的账号</span>
                <span class="error" ng-bind="p.message" ng-show="p.message"></span>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-12">
                <input type="text" name="adminName" ng-model="p.adminName" maxlength="32" class="form-control" placeholder="请输入管理员的名称" required>
            </div>
            <div class="error-box col-sm-12" ng-show="p.form.$submitted && p.form.adminName.$invalid">
                <span class="error" ng-show="p.form.adminName.$error.required">请输入管理员的名称</span>
            </div>
        </div>
        <div class="form-group" ng-if="!p.id">
            <div class="col-sm-12">
                <input type="password" name="password" ng-model="p.password" ng-minlength="6" maxlength="32" class="form-control" placeholder="请输入新密码" required>
            </div>
            <div class="error-box col-sm-12" ng-show="p.form.$submitted && p.form.password.$invalid">
                <span class="error" ng-show="p.form.password.$error.required">请输入管理员的密码</span>
                <span class="error" ng-show="p.form.password.$error.minlength">管理员密码长度最少为6位</span>
            </div>
        </div>
        <div class="form-group" ng-if="!p.id">
            <div class="col-sm-12">
                <input type="password" name="dpassword" ng-model="p.dpassword" maxlength="32" class="form-control" placeholder="请再输入一次新密码" required>
            </div>
            <div class="error-box col-sm-12" ng-show="p.form.$submitted && (p.form.dpassword.$invalid || !!p.dpassword && p.dpassword!=p.password )">
                <span class="error" ng-show="p.form.dpassword.$error.required">请再输入一次密码</span>
                <span class="error" ng-show="!!p.dpassword && p.dpassword!=p.password">两次输入的密码不一致</span>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <input type="submit" class="btn btn-primary" value="提交"/>
        <button type="button" class="btn btn-default" ng-click="p.cancel()">取消</button>
    </div>
</form>